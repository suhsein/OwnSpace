<!DOCTYPE html>
<html lang="en">
<head th:insert="~{/fragment/head :: common_head(title=~{::title})}">
    <meta charset="UTF-8">
    <title>일정목록</title>
</head>
<body>
<div th:replace="~{fragment/navigation :: navigation ('calendar')}"></div>

<div class="container my-2" style="max-width: 80%">
  <div th:replace="~{fragment/to-do-nav :: toDoNavTab('toDoList')}"></div>
  <div class="schedule_tab_contents">
      <table class="table">
          <thead>
            <tr>
                <th scope="col" class="col-1">번호</th>
                <th scope="col" class="col-2">제목</th>
                <th scope="col" class="col-2">장소</th>
                <th scope="col" class="col-1">시간</th>
                <th scope="col" class="col-4">상세설명</th>
                <th scope="col" class="col-1">일정완료</th>
                <th scope="col" class="col-1">일정삭제</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="schedule, i : ${toDoList}" th:class="${schedule.status == 'COMPLETED'} ? 'table-secondary'">
                <td th:text="${i.count}"></td>
                <td th:text="${schedule.title}"></td>
                <td th:text="${schedule.place}"></td>
                <td th:text="${schedule.time}" ></td>
                <td th:text="${schedule.description}" ></td>
                <td>
                    <button th:if="${schedule.status == 'COMPLETED'}" class="btn btn-secondary"
                            th:onclick="|location.href='@{/toDo/{year}/{month}/{day}/ACTIVE/{id}(year=${year},month=${month}, day=${day}, id=${schedule.id})}'|">활성화</button>
                    <button th:if="${schedule.status == 'ACTIVE'}" class="btn btn-success"
                            th:onclick="|location.href='@{/toDo/{year}/{month}/{day}/COMPLETED/{id}(year=${year},month=${month}, day=${day}, id=${schedule.id})}'|">완료</button></td>
                <td><button class="btn btn-danger"
                            th:onclick="|location.href='@{/toDo/{year}/{month}/{day}/DELETE/{id}(year=${year},month=${month}, day=${day}, id=${schedule.id})}'|">삭제</button></td>
            </tr>
          </tbody>
      </table>
  </div>
</div>

<footer th:replace="~{/fragment/footer :: footer}"></footer>
<script src="./js/bootstrap.bundle.js" th:src="@{/js/bootstrap.bundle.js}"></script>
</body>
</html>